{%- assign image_img = section.settings.image -%}

{%- assign image_mobile = section.settings.image_mobile -%}
{%- capture mobile_size -%}750x{% if collection_image.height >= 960 %}960{% else %}{{ collection_image.height }}{% endif %}{%- endcapture -%}


<section class="Section Section--spacingSmall" style="padding-bottom: 50px" id="section-{{ section.id }}">
    <div class="image-logo-blocks">
        <img src="{{ section.settings.image | img_url: '1000x' }} ">
    </div>
    <div class="two_blocks_wrapper flex_align-center align_items_start flex_row justify_content_space_even">

        <div class="text_box">
            {%- if section.settings.subheading != blank or section.settings.title != blank or section.settings.content != blank -%}
            <header class="SectionHeader">
                {%- if section.settings.subheading != blank -%}
                <h3 class="SectionHeader__SubHeading Heading u-h6">{{ section.settings.subheading | escape }}</h3>
                {%- endif -%}

                {%- if section.settings.title != blank -%}
                <h2 class="SectionHeader__Heading Heading u-h1">{{ section.settings.title | escape }}</h2>
                {%- endif -%}

                {% if section.settings.max_content %}
                  {% if section.settings.content.size > section.settings.max_content_size %}
                    <div class="text_unfold">
                        {{ section.settings.content }}
                    </div>
    
                    <div class="unfold_description_color">
    
                    </div>
    
                    <p class="text_area_open">
                      <span class="more_knap">{{ 'general.accessibility.readMore' | t }}</span>
                      <span class="less_knap">{{ 'general.accessibility.readLess' | t }}</span>
        
                    </p>
    
                  {% else %}
                    {{ section.settings.content}}
                  {% endif %}
    
                {% else %}
                  {{ section.settings.content }}
                {% endif %}

                {%- if section.settings.link_text != blank -%}
                <a href="{{ section.settings.link_url }}" class="Button CollectionItem__Link">{{ section.settings.link_text | escape }}</a>
                {%- endif -%}
            </header>
            {%- endif -%}
        </div>

        <div class="text_box">
            {%- if section.settings.subheading != blank or section.settings.title != blank or section.settings.content_2 != blank -%}
            <header class="SectionHeader">
                {%- if section.settings.subheading != blank -%}
                <h3 class="SectionHeader__SubHeading Heading u-h6">{{ section.settings.subheading_2 | escape }}</h3>
                {%- endif -%}

                {%- if section.settings.title != blank -%}
                <h2 class="SectionHeader__Heading Heading u-h1">{{ section.settings.title_2 | escape }}</h2>
                {%- endif -%}

                {% if section.settings.max_content %}
                  {% if section.settings.content_2.size > section.settings.max_content_size %}
                    <div class="text_unfold">
                        {{ section.settings.content_2 }}
                    </div>
    
                    <div class="unfold_description_color">
    
                    </div>

                    <p class="text_area_open">
                      <span class="more_knap">{{ 'general.accessibility.readMore' | t }}</span>
                      <span class="less_knap">{{ 'general.accessibility.readLess' | t }}</span>
        
                    </p>
    
                  {% else %}
                    {{ section.settings.content_2 }}
                  {% endif %}
    
                {% else %}
                  {{ section.settings.content_2 }}
                {% endif %}

                {%- if section.settings.link_text != blank -%}
                <a href="{{ section.settings.link_url }}" class="Button CollectionItem__Link">{{ section.settings.link_text | escape }}</a>
                {%- endif -%}
            </header>
            {%- endif -%}
        </div>
    </div>
</section>
    
<style>
    {% if section.settings.height_top %}
        .full-height #section-{{ section.id }} {
            height: calc(100vh - var(--header-height) - var(--announcement-bar-height));
        }

        .Section--spacingNormal {
            padding: 0 !important;
        }

        {% elsif section.settings.height %}

            .full-height #section-{{ section.id }} {
                height: calc(100vh - var(--header-height));
            }
    {% endif %}

    #section-{{ section.id }} .SectionHeader__SubHeading {
    font-size: {{ section.settings.sub_heading_size }}px !important;
  }

    #section-{{ section.id }} .text_unfold {
      height: {{ section.settings.max_box_size }}px;
    }

    #section-{{ section.id }} .SectionHeader{
      position: relative;
    }

  #section-{{ section.id }} .SectionHeader__Heading {
    font-size: {{ section.settings.heading_size }}px !important;

  }

  #section-{{ section.id }} .text_box p {
    font-size: {{ section.settings.richtext_size }}px !important;

  }

  #section-{{ section.id }} .text_box {
    text-align: {{ section.settings.text_align }} !important;

  }

  #section-{{ section.id }} a.Button.CollectionItem__Link {
    color: {{ section.settings.button_color }} !important;
    border-color: {{ section.settings.button_border_color }} !important;
    font-size: {{ section.settings.button_size }}px !important;
    text-decoration: none;
    border: 2px solid;
    border-radius: 5px !important;
    background-color: {{ section.settings.button_fill }} !important;
    border-style: solid !important;
    transition: all .2s ease-in-out !important;  
  }

  #section-{{ section.id }} a.Button.CollectionItem__Link:hover{
      color: {{ section.settings.button_color_hoover }} !important;
      text-decoration: none;
      background-color: {{ section.settings.button_fill_hoover }} !important;
      transition: all .2s ease-in-out !important;
      font-size: {{ section.settings.button_size }}px !important;
  }

  @media screen and (max-width: 810px) {
    {%- if section.settings.image_position == 'left' -%}
        #section-{{ section.id }} .text_with_image_wrapper .text_box {
            margin-top: 20px;
            margin-bottom: 40px;
        }

        #section-{{ section.id }} .text_with_image_wrapper .image_box {
            margin-top: 40px;
            margin-bottom: 20px;
        }
    {%- else -%}
        #section-{{ section.id }} .text_with_image_wrapper .text_box {
            margin-top: 40px;
            margin-bottom: 20px;
        }

        #section-{{ section.id }} .text_with_image_wrapper .image_box {
            margin-top: 20px;
            margin-bottom: 40px;
        }

    {% endif %}

    .full-height #section-{{ section.id }} {
        {% if section.settings.height_top %}
                height: auto;
            }

            .Section--spacingNormal {
                padding: 0 !important;
            }

            {% elsif section.settings.height %}

                .full-height #section-{{ section.id }} {
                    height: auto;
                }
        {% endif %}

    #section-{{ section.id }} .justify_content_space {
        justify-content: space-evenly;
    }

    #section-{{ section.id }} .flex_row {
        flex-direction: column !important;
    }
    
  	#section-{{ section.id }} .SectionHeader__Heading {
      font-size: 22px !important;
  	}

    #section-{{ section.id }} .CollectionItem__Link {
      font-size: 14px !important;
    }

    #section-{{ section.id }} .CollectionItem__Link::before {
      font-size: 14px !important;
    }

    #section-{{ section.id }} .CollectionItem__Link:hover {
      font-size: 14px !important;
    }
  }

@media screen and (max-width: 810px) {
    #section-{{ section.id }} .SectionHeader__Heading {
        font-size: 22px !important;
    }

    #section-{{ section.id }} #section-{{ section.id }} .text_box p  {
      font-size: 14px !important;
    }
}
</style>

{% schema %}
{
  "name": "Two text blocks",
  "class": "full-height",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image",
      "info": "1200 x 1200px .png recommended"
    },
    {
      "type": "checkbox",
      "id": "max_content",
      "label": "Unfold option",
      "default": false
    },
    {
      "type": "number",
      "id": "max_content_size",
      "label": "Unfold option character max",
      "default": 50
    },
    {
      "type": "number",
      "id": "max_box_size",
      "label": "Folded tekst box max height",
      "default": 50
    },
    {
        "type": "header",
        "content": "Box 1"
    },
    {
        "type": "text",
        "id": "subheading",
        "label": "Sub-heading",
        "default": "Sub-heading"
    },
    {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Title"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Text",
      "default": "<p>Add your own custom content to give more information about your store, availability details...</p>"
    },
    {
        "type": "header",
        "content": "Box 2"
    },
    {
        "type": "text",
        "id": "subheading_2",
        "label": "Sub-heading",
        "default": "Sub-heading"
    },
    {
        "type": "text",
        "id": "title_2",
        "label": "Heading",
        "default": "Title"
    },
    {
      "type": "richtext",
      "id": "content_2",
      "label": "Text",
      "default": "<p>Add your own custom content to give more information about your store, availability details...</p>"
    },
    {
        "type": "header",
        "content": "Section settings"
    },
    {
      "type": "select",
      "id": "text_align",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min":  15,
      "max":  100,
      "label": "Heading size",
      "default": 26
    },
    {
      "type": "range",
      "id": "sub_heading_size",
      "min":  15,
      "max":  100,
      "label": "Sub-heading size",
      "default": 20
    },
    {
      "type": "range",
      "id": "richtext_size",
      "min":  10,
      "max":  30,
      "label": "Richtext size",
      "default": 14
    }
  ],
  "presets": [
    {
      "category": "Image",
      "name": "Two text blocks",
      "settings": {}
    }
  ]
}
{% endschema %}